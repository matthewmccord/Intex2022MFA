@{
    ViewData["Title"] = "List of Crashes";
}

@using Microsoft.AspNetCore.Authorization
@attribute [Authorize]

@model CrashesViewModel

<div class="row m-1 p-1">
    <div id="county" class="col-2">
        <vc:county></vc:county>
    </div>


    <div class="col-10">
        <div class="text-center">
            <h1 class="display-4">Utah Vehicle Crash Information</h1>
        </div>

        
        <div>
            <a href="/Home/CreateCrashForm" class="btn btn-success">Add Crash</a>
            <a href="/Account/Logout" class="btn btn-success">Logout</a>
        </div>


     
        <table class="table table-sm table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th>Crash ID</th>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Route No</th>
                    <th>Milepoint</th>
                    <th>Latitude</th>
                    <th>Longitude</th>
                    <th>Main Road</th>
                    <th>City</th>
                    <th>County</th>
                    <th>Crash Severity</th>
                    <th>Tags</th>
                </tr>
            </thead>
            <tbody>
                @foreach (Crash c in Model.Crashes)
                {
                    <tr>
                        <td>@c.CRASH_ID</td>
                        <td>@c.Crash_Date.ToShortDateString() </td>
                        <td>@c.Crash_Time</td>
                        <td>@c.Route</td>
                        <td>@c.Milepoint</td>
                        <td>@c.Lat_Utm_Y</td>
                        <td>@c.Long_Utm_X</td>
                        <td>@c.Main_Road_Name</td>
                        <td>@c.City</td>
                        <td>@c.County_Name</td>
                        <td>@c.Crash_Severity_ID</td>

                        <td>
                            @if (@c.Work_Zone_Related is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">Work Zone Related</span>
                            }
                            @if (@c.Pedestrian_Involved is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">Pedestrian Involved</span>
                            }
                            @if (@c.Bicyclist_Involved is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">Bicyclist Involved</span>
                            }
                            @if (@c.Motorcycle_Involved is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">Motorcycle Involved</span>
                            }
                            @if (@c.Improper_Restraint is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">Improper Restraint</span>
                            }
                            @if (@c.Unrestrained is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">Unrestrained</span>
                            }
                            @if (@c.DUI is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">DUI</span>
                            }
                            @if (@c.Intersection_Related is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">Intersection Related</span>
                            }
                            @if (@c.Wild_Animal_Related is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">Wild Animal Related</span>
                            }
                            @if (@c.Domestic_Animal_Related is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">Domestic Animal Related</span>
                            }
                            @if (@c.Overturn_Rollover is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">Overturn Rollover</span>
                            }
                            @if (@c.Commercial_Motor_VEH_Involved is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">Commercial Motor Vehicle Involved</span>
                            }
                            @if (@c.Teenage_Driver_Involved is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">Teenage Driver Involved</span>
                            }
                            @if (@c.Older_Driver_Involved is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">Older Driver Involved</span>
                            }
                            @if (@c.Night_Dark_Condition is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">Night/Dark Conditions</span>
                            }
                            @if (@c.Single_Vehicle is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">Single Vehicle</span>
                            }
                            @if (@c.Distracted_Driver is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">Distracted Driving</span>
                            }
                            @if (@c.Drowsy_Driver is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">Drowsy Driving</span>
                            }
                            @if (@c.Roadway_Departure is true)
                            {
                                <span class="badge rounded-pill bg-primary text-light">Roadway Departure</span>
                            }


                        </td>

                        <td>
                            <a class="btn btn-warning btn-sm" href="/Home/UpdateCrashForm/@c.CRASH_ID">Edit</a>
                        </td>
                        <td>
                            @*insert ID parameter*@
                            <a class="btn btn-danger btn-sm" href="/Home/DeleteConfirmation/@c.CRASH_ID">Delete</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>

        

        <div page-blah="@Model.PageInfo" page-action="CrashDetailsList" page-classes-enabled="true"
             page-class="btn" page-class-normal="btn-outline-dark"
             page-class-selected="btn-primary" class="btn-group pull-right m-1">
        </div>
    </div>
</div>
